<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <script>
        var MQ = MathQuill.getInterface(2);
    </script>

    <style>
        .lds-ringg {
            display: inline-block;
            /* position: relative;
        top :50vh;
        left: 50vw; */
            width: 1.875rem;
            height: 1.875rem
        }

        .lds-ringg div {
            box-sizing: border-box;
            display: block;
            position: absolute;
            border: .3rem solid #595959;
            border-radius: 50%;
            border-color: #595959 transparent transparent;
            width: 1.875rem;
            height: 1.875rem;
            animation: lds-ringg 1.2s cubic-bezier(.5, 0, .5, 1) infinite
        }

        .lds-ringg div:nth-child(1) {
            animation-delay: -.45s
        }

        .lds-ringg div:nth-child(2) {
            animation-delay: -.3s
        }

        .lds-ringg div:nth-child(3) {
            animation-delay: -.15s
        }

        @keyframes lds-ringg {
            0% {
                transform: rotate(0)
            }

            to {
                transform: rotate(360deg)
            }
        }
    </style>

    <style>
        .container55 {
            --bg-offset: 0%;
            display: flex;
            border-radius: 0.5rem;
            overflow: hidden;
            position: relative;
            background: rgb(250, 247, 247);
            box-shadow: 2.8px 2.8px 2.2px rgba(0, 0, 0, 0.02),
                6.7px 6.7px 5.3px rgba(0, 0, 0, 0.028),
                12.5px 12.5px 10px rgba(0, 0, 0, 0.035),
                22.3px 22.3px 17.9px rgba(0, 0, 0, 0.042),
                41.8px 41.8px 33.4px rgba(0, 0, 0, 0.05),
                100px 100px 80px rgba(0, 0, 0, 0.07);

            /* box-shadow: 0 -5px 10px rgba(0, 0, 0, 0.3); */
        }

        .container55::after {
            content: "";
            width: 25%;
            height: 100%;
            background: rgba(44, 222, 115, 0.5);
            position: absolute;
            top: 0;
            left: var(--bg-offset);
            transition: left 0.3s;
        }

        .container55>button {
            width: 150px;
            border: none;
            padding: 0.75rem 1.5rem;
            background: transparent;
            cursor: pointer;
        }

        .container55>button:not(:last-of-type) {
            border-right: 1px solid #eee;
        }
    </style>



    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            background-color: rgb(255, 255, 255);
            color: rgb(0, 0, 0);
            font-family: sans-serif;
        }

        #math-field {
            /* width: 100%; */
            padding-left: 10px;

            padding-right: 10px;
            height: 150px;
            margin-bottom: 10px;
            align-items: center;

        }


        @media (min-width: 768px) {

            .parent {
                width: 66.666667%;

                margin-left: auto;
                margin-right: auto;
            }

        }



        @media (min-width: 768px) {
            .parent {
                margin-left: auto;
                margin-right: auto;
            }
        }

        .item {

            padding: 1.25rem;



            margin-bottom: .75rem;
            margin-left: auto;
            margin-right: auto;
            border: 1px solid #D1D5DB;









            --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);
            --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);


        }

        .add {
            position: fixed;
            top: 20px;
            right: 50px;
        }

        .qpart {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
        }

        .mcqpart {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            margin-top: 25px;
            display: none;
        }

        .slide1 {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;

        }

        .math-field0 {
            width: 70%;
            display: flex;
            flex-direction: column;
            margin-top: 2px;




        }

        .math-field01 {
            width: 75%;
            /* border: 1px solid grey; */
            margin-left: 12px;
            word-wrap: break-word;
            margin-top: 2px;

        }

        #static1 {
            width: 75%;
            display: none;

            margin-left: 12px;
            word-wrap: break-word;
            margin-top: 2px;

        }

        .paste {
            margin-left: auto;
            margin-right: 15px;

        }

        .next1 {
            margin-left: auto;
            text-align: right;
            padding: 8px 14px;
            background-color: #28a745 !important;
            color: white;
            font-size: 15px;
            border-radius: 4px;

        }



        .math-field0>span {
            display: flex;
            /* Set this span to flex to align its children */
            justify-content: space-between;
            /* Distribute space between the children */
            width: 100%;
            /* Make it take the full width */
        }

        button {
            outline: none;
        }

        button {
            -webkit-tap-highlight-color: transparent;
        }

        .abcdpart {
            display: none;
        }

        .container_abcd {
            width: 100%;
            margin-top: 30px;
            margin-left: 10px;


        }

        .item_abcd {
            display: flex;
            flex-direction: row;
            /* margin-top: 20px; */
            width: 40%;




        }

        .item_abcd:nth-child(2),
        .item_abcd:nth-child(5) {
            /* margin-left: 44%; */


        }

        #temp2 {

            /* margin-top: 30px;
            width: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center; */



            width: 50%;
            margin: 30px auto;
            /* Centers horizontally */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            display: none;

        }

        .next2 {
            margin-top: 10px;

            margin-left: auto;
            text-align: right;
            padding: 8px 14px;
            background-color: #28a745 !important;
            color: white;
            font-size: 15px;
            border-radius: 4px;

        }


        #math-field2 {
            width: 100%;
            padding-left: 10px;

            padding-right: 10px;
            height: 80px;
            margin-bottom: 10px;
            align-items: center;



        }

        .roww1,
        .roww2 {
            display: flex;
            flex-direction: row;
            height: 80px;
            /* background-color: #28a745; */
            align-items: center;
            text-align: center;
        }

        .abcd_span {
            margin-left: 10px;
        }

        .txt_cen {

            text-align: center;
        }

        #txtt2 {
            margin-top: 15px;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .hidd {
            display: none;
        }

        .next33 {


            padding: 8px 14px;
            background-color: #28a745 !important;
            color: white;
            font-size: 15px;
            border-radius: 4px;

        }

        .next3 {
            display: flex;
            justify-content: center;
            margin-top: 25px;
        }

        #slide2 {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;


        }

        .container44 {
            width: 600px;

            display: flex;
            flex-direction: row;
            border-radius: 0.5rem;
            background: rgb(250, 247, 247);
            box-shadow: 2.8px 2.8px 2.2px rgba(0, 0, 0, 0.02),
                6.7px 6.7px 5.3px rgba(0, 0, 0, 0.028),
                12.5px 12.5px 10px rgba(0, 0, 0, 0.035),
                22.3px 22.3px 17.9px rgba(0, 0, 0, 0.042),
                41.8px 41.8px 33.4px rgba(0, 0, 0, 0.05),
                100px 100px 80px rgba(0, 0, 0, 0.07);


        }

        .container44>button {
            width: 150px;
            border: none;
            padding: 0.75rem 1.5rem;
            background: transparent;
            cursor: pointer;
        }

        .container44>button:not(:last-of-type) {
            border-right: 1px solid #eee;
        }

        #hov_a:hover {
            background: rgba(44, 222, 115, 0.5);

            border-top-left-radius: .5rem;
            border-bottom-left-radius: .5rem;



        }

        #hov_b:hover {
            background: rgba(44, 222, 115, 0.5);



        }

        #hov_c:hover {
            background: rgba(44, 222, 115, 0.5);


        }

        #hov_d:hover {
            background: rgba(44, 222, 115, 0.5);

            border-top-right-radius: .5rem;
            border-bottom-right-radius: .5rem;

        }

        .ans_part {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
    </style>


    <style>
        .q_no {
            height: 2rem;
            /* Fixed height */
            padding-left: .75rem;
            padding-right: .75rem;
            font-size: .875rem;
            padding-top: 0;
            padding-bottom: 0;
            border-radius: 8px;

            background-color: hsl(219 14% 28% / 1);
            color: white;
            text-align: center;
            display: inline-flex;
            /* Use inline-flex for proper centering */
            align-items: center;
            /* Vertical centering */
            justify-content: center;
            /* Horizontal centering */
            line-height: 1;
            /* Remove potential spacing issues */


        }


        .stati1 {
            width: 75%;


            margin-left: 12px;
            word-wrap: break-word;
            margin-top: 2px;

        }

        .container_abcd_23 {
            width: 100%;
            margin-top: 30px;
            margin-left: 10px;


        }

        .roww1_23,
        .roww2_23 {
            display: flex;
            flex-direction: row;
            height: 40px;
            /* background-color: #28a745; */
            align-items: center;
            text-align: center;
        }

        .item_abcd_23 {
            display: flex;
            flex-direction: row;
            /* margin-top: 20px; */
            width: 30%;
            align-items: center;




        }

        .txt_cen {

            text-align: center;
        }

        .abcd_span_23 {
            margin-left: 10px;
        }

        .item {
            position: relative;
        }

        .svgg {
            /* margin-left:10%;
            margin-top: 10px; */
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 30px;
            right: 40px;

        }

        .editt {
            margin-bottom: 60px;
        }



        .title0 {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 28px;
            margin-top: 15px;
            margin-bottom: 15px;
        }

        .ani {
            transition: opacity 0.1s ease, margin 0.3s ease, transform 0.3s ease;
        }

        .ani_rmv {
            margin: 0;
            padding: 0;
            opacity: 0;
            /* margin-top: -200px; */
            transform: scaleY(0);

        }


        .publish {
            padding: 15px 25px;
            margin-top: 40px;
            margin-bottom: 60px;
            background-color: #28a745;
            float: right;
            margin-right: 10%;
            border-radius: 5px;

        }
    </style>

    <style>
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }

        /* Popup Box */
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 300px;
            padding: 20px;
            background: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            text-align: center;
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        /* Buttons */
        .open-btn,
        .close-btn {
            padding: 10px 1px;
            width: 80px;
            border: none;
            background: #007bff;
            color: white;
            border-radius: 4px;
            cursor: pointer;
        }

        .close-btn2 {
            padding: 10px 1px;
            width: 80px;
            border: none;
            background: #28A745;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 25px;
        }

        .open-btn:hover,
        .close-btn:hover {
            background: #0056b3;
        }

        /* Active States */
        .overlay.active,
        .popup.active {
            opacity: 1;
            visibility: visible;
        }

        .popup.active {
            transform: translate(-50%, -50%) scale(1);
        }

        .popup h2 {
            margin-bottom: 32px;
        }

        .boxx {
            display: flex;
            flex-direction: column;
            align-items: flex-start;

        }

        .styled-input {
            width: 250px;
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            background-color: #f9f9f9;
            color: #333;
            transition: all 0.3s ease;
        }


        .styled-input:focus {
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
            background-color: #fff;
        }

        .styled-input::placeholder {
            color: #aaa;
        }

        .boxx span {
            margin-bottom: 10px;
        }

        .boxx input {
            margin-bottom: 30px;
        }

        .boxx h4 {
            margin-bottom: 30px;
        }
    </style>

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            overflow-x: hidden;

        }

        .keyboard-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1000;
        }

        .toggle-btn {
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            margin-bottom: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .toggle-btn:active {
            transform: scale(0.95);
        }

        .keyboard {
            background: linear-gradient(45deg, #43fb1f, #2c89e7);
            border-radius: 10px 10px 0 0;
            padding: 20px;
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.2);
            transform: translateY(100%);
            transition: transform 0.4s ease-in-out;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .keyboard.visible {
            transform: translateY(0);
        }

        .row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }

        .row button {
            background-color: white;
            color: #333;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            margin: 0 5px;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, background-color 0.3s;
        }

        .row button:active {
            transform: scale(0.9);
            background-color: #ddd;
        }

        .row button:hover {
            background-color: #f0f0f0;
        }

        .darkk {
            background-color: #CCCCCC !important;
        }

        #key_roww_2,
        #key_roww_3 {
            display: none;
        }
    </style>










    <style>
        .popup {}


        .popup h3 {
            margin: 0 0 20px;
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            color: #4a90e2;
            text-align: left;

        }

        #form-content {
            text-align: left;
        }

        .popup input {
            width: 80%;
            margin: 10px 0 20px;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        label {
            display: block;

        }

        .popup input:focus {
            border-color: #4a90e2;
        }

        .popup button {
            display: block;
            width: 100%;
            padding: 12px;
            background: #4a90e2;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;

        }

        .popup button:hover {
            background: #357ab8;
        }

        .popup .error {
            color: #e74c3c;
            font-size: 12px;
            margin-top: -15px;
            margin-bottom: 15px;
        }
    </style>

    <style>
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
            /* For Firefox */
        }
    </style>

</head>

<body>

    <div class="title0">
        <p id="testt"></p>
    </div>


    <div class="add" onclick="addd(event)">
        <svg height="60px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM12.75 9C12.75 8.58579 12.4142 8.25 12 8.25C11.5858 8.25 11.25 8.58579 11.25 9L11.25 11.25H9C8.58579 11.25 8.25 11.5858 8.25 12C8.25 12.4142 8.58579 12.75 9 12.75H11.25V15C11.25 15.4142 11.5858 15.75 12 15.75C12.4142 15.75 12.75 15.4142 12.75 15L12.75 12.75H15C15.4142 12.75 15.75 12.4142 15.75 12C15.75 11.5858 15.4142 11.25 15 11.25H12.75V9Z"
                fill="#1C274C" />
        </svg>
    </div>

    <div id="parent" class="parent">
        <div id="item_static1" class="item item_static ">

            <div class="qpart">

                <svg width="28px" viewBox="0 0 24 24" fill="#C00000" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M15.75 5H8.25C7.55964 5 7 5.58763 7 6.3125V19L12 15.5L17 19V6.3125C17 5.58763 16.4404 5 15.75 5Z"
                        stroke="grey" stroke-linecap="round" stroke-linejoin="round" />
                </svg>

                <span id="static1"></span>

                <p id="temp1" class="math-field0">
                    <span id="math-field"></span>
                    <span><span>Type Question Above:</span> <span class="next1"
                            onclick="next1(event)">Next</span></span>


                </p>











                <div class="paste" onclick="pastee(event)">
                    <svg fill="#000000" height="30px" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M7.03 2.6a3 3 0 0 1 5.94 0L15 3v1h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4zM5 6H4v12h12V6h-1v1H5V6zm5-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                    </svg>
                </div>
            </div>




            <div id="mcqpart" class="mcqpart">
                <div id="slide1" class="slide1">
                    <div class='container55'>
                        <button onClick="slideBg(0)">a</button>
                        <button onClick="slideBg(1)">b</button>
                        <button onClick="slideBg(2)">c</button>
                        <button onClick="slideBg(3)">d</button>
                    </div>
                </div>







            </div>

            <div id="ans_part" class="ans_part hidd">
                <span id="txtt2" class=" txt_cen">Choose Correct Answer</span>

                <div id="slide2">
                    <div class='container44'>
                        <button id="hov_a" onClick="ans_click(event,0)">a</button>
                        <button id="hov_b" onClick="ans_click(event,1)">b</button>
                        <button id="hov_c" onClick="ans_click(event,2)">c</button>
                        <button id="hov_d" onClick="ans_click(event,3)">d</button>
                    </div>
                </div>

                <!-- <div id="submit22" class="next3 hidd" > <span class="next33" onclick="next3(event)">Submit</span> </div> -->

            </div>
            <!-- <div id="loaderr" class="lds-ringg"> <div></div> <div></div> <div></div> <div></div> </div> -->



            <div id="temp2">
                <span id="math-field2"></span>


                <span id="next2" class="next2" onclick="next2(event)">Next</span>


            </div>



        </div>

        <div id="item_static2" class="item  ">

            <div class="qpart">

                <svg width="28px" viewBox="0 0 24 24" fill="#C00000" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M15.75 5H8.25C7.55964 5 7 5.58763 7 6.3125V19L12 15.5L17 19V6.3125C17 5.58763 16.4404 5 15.75 5Z"
                        stroke="grey" stroke-linecap="round" stroke-linejoin="round" />
                </svg>


                <p class="math-field01">

                    <span id="preview"> </span>


                </p>
            </div>

            <div id="abcdpart" class="abcdpart">
                <div class="container_abcd">
                    <div class="roww1_23">
                        <div id="abcd_a" class="item_abcd_23"><span class="txt_cen">a)</span> <span class="abcd_span"
                                id="abcd_span1"></span> </div>
                        <div id="abcd_b" class="item_abcd_23"><span class="txt_cen">b)</span> <span class="abcd_span"
                                id="abcd_span2"></span></div>
                    </div>
                    <br>
                    <div class="roww2_23">
                        <div id="abcd_c" class="item_abcd_23"><span class="txt_cen">c)</span> <span class="abcd_span"
                                id="abcd_span3"></span></div>
                        <div id="abcd_d" class="item_abcd_23"><span class="txt_cen">d)</span> <span class="abcd_span"
                                id="abcd_span4"></span></div>
                    </div>
                </div>

            </div>

        </div>


        <!-- ff//////////////////////////////////////////////////////////////////////////////////////// -->
























    </div>

    <span onclick="openPopup()" id="pubb0" class="publish hidd">Publish It</span>




    <div class="overlay" onclick="closePopup()" id="overlay"></div>


    <div class="popup " id="popup">
        <!-- <h2>Exam Published</h2>
        <div class="boxx">
            <h4>Exam Url Below</h4>
            <h3 id="url_exam"></h3>
        </div> -->
        <h3>Input Data</h3>
        <div id="form-content">
            <div id="aad">


                <label for="duration">Duration:</label>
                <input type="number" min="0" max="300" autocomplete="off" autocorrect="off" autocapitalize="none"
                    spellcheck="false" id="duration" placeholder="Enter duration">
                <div class="error" id="duration-error"></div>
                <button onclick="nextStep()">Next</button>
            </div>
            <div id="aae" class="hidd">





                <label for="start-time">Start Time:</label>
                <input type="time" id="datetimePicker">
                <label for="end-time">End Time:</label>
                <input type="time" id="datetimePicker2">
                <button onclick="nextQuestionStep()">Next</button>
            </div>

            <div id="aaf" class="hidd">
                <label for="per-question">Per Question Mark (Default 1):</label>
                <input type="number" id="per-question" value="1" step="0.01">
                <div class="error" id="mark_err"></div>
                <label for="negative-marking">Negative Marking (Default 0.00):</label>
                <input type="number" id="negative-marking" value=".0" step="0.01">
                <div class="error" id="neg_err"></div>
            </div>

        </div>
        <button id="publish66" onclick="publishData()" style="display: none;">Publish</button>

    </div>

    <script type="module">
        import balanced from 'https://cdn.jsdelivr.net/npm/balanced-match@3.0.1/index.js';
        window.balanced = balanced;

    </script>

    <script src="./latex.js"></script>


    <script>
        var mathFieldSpan = document.getElementById('math-field');
        var mathContainer = document.getElementById('math-field0');


        var MQ = MathQuill.getInterface(2); // for backcompat
        var mathField = MQ.MathField(mathFieldSpan, {
            spaceBehavesLikeTab: false, // configurable
            handlers: {
                edit: function () { // useful event handlers
                    // latexSpan.textContent = mathField.latex(); // simple API

                    // mathField.moveToDirEnd();
                    const fullLatex = mathField.latex().replace(/\\/g, '\\\\');

                    calc(fullLatex)



                }
            }
        });
    </script>

    <script>
        var mathFieldSpan2 = document.getElementById('math-field2');



        var MQ2 = MathQuill.getInterface(2); // for backcompat
        var mathField2 = MQ2.MathField(mathFieldSpan2, {
            spaceBehavesLikeTab: false, // configurable
            handlers: {
                edit: function () { // useful event handlers
                    // latexSpan.textContent = mathField.latex(); // simple API


                    update_abcd()


                }
            }
        });
    </script>


    <script>

        var elements = document.getElementsByClassName('mathh');


        for (var ddx of elements) {
            MQ.StaticMath(ddx);
        }


        window.getCookie = function (name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        if (getCookie("boi_edtech") != undefined) {

            window.aa = async function () {



                try {
                    const res = await fetch("http://192.168.0.103:3000/ac_verify", {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ "name": getCookie("boi_edtech") }),
                    });
                    if (res.status === 200) {

                        let ress = await res.json()
                        console.log(ress.count);
                        document.getElementById("testt").innerHTML = `Test ${ress.count + 1}`
                    }
                    else {
                        // alert('Error. Couldn`t Submit');
                    }

                } catch (err) {
                    console.error('Error:', err);
                    // alert('Error. Couldn`t Submit');
                }
            }; aa()



        } else {

            window.location.href = './index.html';

        }


        window.addd = async function (e) {


            document.getElementById("item_static1").classList.remove('hidd');
            document.getElementById("item_static2").classList.remove('hidd');
            document.getElementById("static1").innerHTML = ``;
            document.getElementById("temp1").style.display = "flex"
            document.getElementById("static1").style.display = "none"
            document.getElementById("abcd_span1").innerHTML = ``;
            document.getElementById("abcd_span2").innerHTML = ``;
            document.getElementById("abcd_span3").innerHTML = ``;
            document.getElementById("abcd_span4").innerHTML = ``;
            document.getElementById("abcdpart").style.display = "none"

            mathField.latex(``);



            window.scrollTo({
                top: document.documentElement.scrollHeight,
                behavior: 'smooth'
            });





        };

        window.ans_click = async function (e, posi) {
            console.log(e.target);
            const closestButton = e.target.closest('button');
            // closestButton.style.backgroundColor = '#28A745'

            document.getElementById('ans_part').style.display = "none"



            next3(posi);

        };

        window.pastee = async function () {
            let currentLatex = mathField.latex();


            if (navigator.clipboard) {
                navigator.clipboard.readText().then(function (text) {
                    mathField.latex(`${currentLatex} ${text}`);

                    mathField.focus();
                }).catch(function (error) {
                    console.error("Error reading clipboard content: ", error);
                });
            } else {
                console.log("Clipboard API not available in this browser.");
            }

        };


        window.next1 = async function () {
            let preview = document.getElementById("preview");

            if (preview.innerHTML.trim() === '') {
                alert('Empty Question!');
                return false;
            }




            const fullLatex = mathField.latex().replace(/\\/g, '\\\\');
            console.log(fullLatex);
            calc(fullLatex)

            let element = document.getElementById("temp1");
            let static1 = document.getElementById("static1");
            let mcqpart = document.getElementById("mcqpart");
            let abcdpart = document.getElementById("abcdpart");
            let temp2 = document.getElementById("temp2");
            document.getElementById("slide1").style.display = "flex"

            document.getElementById("math-field2").style.display = "inline-block"
            document.getElementById("next2").style.display = ""
            mathField2.latex(``);
            slideBg(0)







            window.active_input66 = "two";
            // Delete the element
            element.style.display = "none"
            static1.innerHTML = fullLatex;
            calc(fullLatex, "static1")
            mcqpart.style.display = 'flex'
            temp2.style.display = 'flex'
            abcdpart.style.display = 'block'
            mathField2.focus();


        };


        window.next2 = async function () {



            let isEmptyFound = false;


















            if (window.abcd_json.a != undefined) {
                if (window.abcd_json.a == "") {
                    alert('Please fill All Feilds');
                    isEmptyFound = true;
                    return false;
                }
            } else {
                alert('Please fill All Feilds');
                isEmptyFound = true;
                return false;
            }

            if (window.abcd_json.b != undefined) {
                if (window.abcd_json.b == "") {
                    alert('Please fill All Feilds');
                    isEmptyFound = true;
                    return false;
                }
            } else {
                alert('Please fill All Feilds');
                isEmptyFound = true;
                return false;
            }
            if (window.abcd_json.c != undefined) {
                if (window.abcd_json.c == "") {
                    alert('Please fill All Feilds');
                    isEmptyFound = true;
                    return false;
                }
            } else {
                alert('Please fill All Feilds');
                isEmptyFound = true;
                return false;
            }
            if (window.abcd_json.d != undefined) {
                if (window.abcd_json.d == "") {
                    alert('Please fill All Feilds');
                    isEmptyFound = true;
                    return false;
                }
            } else {
                alert('Please fill All Feilds');
                isEmptyFound = true;
                return false;
            }






            if (!isEmptyFound) {



                document.getElementById("ans_part").style.display = "flex"
                document.getElementById("slide1").style.display = "none"
                document.getElementById("temp2").style.display = "none"
                document.getElementById("math-field2").style.display = "none"
                document.getElementById("next2").style.display = "none"








            }


        };



        window.next3 = async function (posi) {




            let urll = "http://192.168.0.103:3000/q_add"





            const fullLatex = mathField.latex().replace(/\\/g, '\\\\');

            if (getCookie("boi_edtech") == undefined) {
                return false;

            }
            let title = getCookie("boi_edtech");


            try {

                let jsonn;
                if (window.docidd != undefined) {
                    console.log(6666666666666666666666666666666);
                    jsonn = { "Q": fullLatex, "a": abcd_json.a, "b": abcd_json.b, "c": abcd_json.c, "d": abcd_json.d, "ans": posi, edtech_name: title, "idd": window.docidd }

                } else {
                    jsonn = { "Q": fullLatex, "a": abcd_json.a, "b": abcd_json.b, "c": abcd_json.c, "d": abcd_json.d, "ans": posi, edtech_name: title }

                }
                console.log(window.docidd);
                const res = await fetch(urll, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(jsonn),
                });
                if (res.status === 200) {

                    let ress = await res.json()

                    if (ress.doc_idd != undefined) {
                        window.docidd = ress.doc_idd
                        let currentUrl = window.location.href;


                        let newUrl0 = currentUrl.replace('2.html', 'edit.html');

                        const newUrl = `${newUrl0}?n=${getCookie("boi_edtech")}&id=${ress.doc_idd}`;
                        history.pushState(null, '', newUrl);
                        document.getElementById("pubb0").style.display = "block"

                    }
                    console.log(window.docidd);

                    // document.getElementById('ans_part').innerHTML = ``
                    document.getElementById("item_static1").classList.add('hidd');
                    document.getElementById("item_static2").classList.add('hidd');


                    const targetElement = document.querySelector('#parent .item_static');

                    let qs = document.querySelectorAll('.q_no');







                    let aa = 'a)';
                    let bb = 'b)';
                    let cc = 'c)';
                    let dd = 'd)';
                    if (ress.received.ans == 0) {
                        aa = `
                                <svg width="3.3848648mm" height="2.8857117mm" viewBox="0 0 3.3848648 2.8857117" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2yu" /> <g id="layer1" transform="translate(-103.67948,-139.56686)"> <text xml:space="preserve" style="font-size:3.175px;fill:#000000;stroke-width:0.264583" x="104.13364" y="141.8338" id="text63"><tspan id="tspan61" style="stroke-width:0.264583" x="104.13364" y="141.8338">a)</tspan></text> </g> <g id="layer2" transform="translate(-103.67948,-139.56686)"> <text xml:space="preserve" style="font-size:5.24665px;fill:#228b22;stroke-width:0.437221" x="96.69558" y="152.24422" id="text130" transform="scale(1.0655351,0.93849559)"><tspan id="tspan128" style="fill:#228b22;stroke-width:0.437221" x="96.69558" y="152.24422">✔</tspan></text> </g> </svg>
                                `
                    } else if (ress.received.ans == 1) {
                        bb = `
                              <svg width="3.3848648mm" height="2.916748mm" viewBox="0 0 3.3848648 2.916748" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2j" /> <g id="layer2" transform="translate(-75.09263,-145.91418)"> <text xml:space="preserve" style="font-size:5.24665px;fill:#228b22;stroke-width:0.437221" x="69.866943" y="159.04059" id="text130-3" transform="scale(1.0655351,0.93849559)"><tspan id="tspan128-6" style="fill:#228b22;stroke-width:0.437221" x="69.866943" y="159.04059">✔</tspan></text> <text xml:space="preserve" style="font-size:3.175px;fill:#000000;stroke-width:0.264583" x="75.580551" y="148.32719" id="text2197"><tspan id="tspan2195" style="stroke-width:0.264583" x="75.580551" y="148.32719">b)</tspan></text> </g> </svg>
                            `
                    } else if (ress.received.ans == 2) {
                        cc = `
                            <svg width="3.3848648mm" height="2.7957001mm" viewBox="0 0 3.3848648 2.7957001" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2" /> <g id="layer2" transform="translate(-64.115602,-140.52894)"> <text xml:space="preserve" style="font-size:5.24665px;fill:#228b22;stroke-width:0.437221" x="59.565052" y="153.17343" id="text130-35" transform="scale(1.0655351,0.93849559)"><tspan id="tspan128-62" style="fill:#228b22;stroke-width:0.437221" x="59.565052" y="153.17343">✔</tspan></text> <text xml:space="preserve" style="font-size:3.175px;fill:#000000;stroke-width:0.264583" x="64.460152" y="142.79588" id="text2201"><tspan id="tspan2199" style="stroke-width:0.264583" x="64.460152" y="142.79588">c)</tspan></text> </g> </svg>
                            
                            `

                    } else if (ress.received.ans == 3) {
                        dd = `
                            <svg width="3.3848648mm" height="2.9454651mm" viewBox="0 0 3.3848648 2.9454651" version="1.1" id="svg5" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs2" /> <g id="layer1" transform="translate(-65.524248,-146.21946)"> <text xml:space="preserve" style="font-size:3.175px;fill:#000000;stroke-width:0.264583" x="65.764465" y="148.63246" id="text2205"><tspan id="tspan2203" style="stroke-width:0.264583" x="65.764465" y="148.63246">d)</tspan></text> </g> <g id="layer2" transform="translate(-65.524248,-146.21946)"> <text xml:space="preserve" style="font-size:5.24665px;fill:#228b22;stroke-width:0.437221" x="60.887066" y="159.39647" id="text130-7" transform="scale(1.0655351,0.93849559)"><tspan id="tspan128-5" style="fill:#228b22;stroke-width:0.437221" x="60.887066" y="159.39647">✔</tspan></text> </g> </svg>
                            `
                    }




                    targetElement.insertAdjacentHTML("beforebegin", `

        <div id="itemm-${Number(ress.count_updated)}" class="item ani">

<div class="svgg">

<svg onclick="editt(event)" class="editt" xmlns="http://www.w3.org/2000/svg" width="35"
fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
<path
d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z" />
</svg>


<svg onclick="dltt(event)" xmlns="http://www.w3.org/2000/svg" width="36" fill="currentColor"
class="bi bi-trash3-fill" viewBox="0 0 16 16">
<path
d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5" />
</svg>
</div>



<div class="qpart">

<svg width="28px" viewBox="0 0 24 24" fill="#C00000" xmlns="http://www.w3.org/2000/svg">
<path
d="M15.75 5H8.25C7.55964 5 7 5.58763 7 6.3125V19L12 15.5L17 19V6.3125C17 5.58763 16.4404 5 15.75 5Z"
stroke="grey" stroke-linecap="round" stroke-linejoin="round" />
</svg>

<span id="id-${ress.count_updated}"  class="stati1">
    ${ress.received.Q}
</span>








</div>



<div id="abcdpart_23" class="abcdpart_23">
<div class="container_abcd_23">
<div class="roww1_23">
<div id="abcd_a${ress.count_updated}" class="item_abcd_23"><span class="txt_cen">${aa}</span> <span
    class="abcd_span_23" ></span> </div>
<div id="abcd_b${ress.count_updated}" class="item_abcd_23"><span class="txt_cen">${bb}</span> <span
    class="abcd_span_23" ></span></div>
</div>
<br>
<div class="roww2_23">
<div id="abcd_c${ress.count_updated}" class="item_abcd_23"><span class="txt_cen">${cc}</span> <span
    class="abcd_span_23" ></span></div>
<div id="abcd_d${ress.count_updated}" class="item_abcd_23"><span class="txt_cen">${dd}</span> <span
    class="abcd_span_23" ></span></div>
</div>
</div>

</div>

<span class="q_no">Q No.  ${Number(qs.length) + 1}</span>






</div>

`);


                    calc(ress.received.Q, `id-${ress.count_updated}`)


                    abcd_add(ress.received, ress.count_updated)


                    window.scrollTo({
                        top: document.documentElement.scrollHeight,
                        behavior: 'smooth'
                    });
                    window.abcd_json = { a: "", b: "", c: "", d: "" }
                    window.active_input66 = "one";


                } else {
                    alert('Error.Question Couldn`t Submit');
                }

            } catch (err) {
                console.error('Error:', err);
                alert('Error.Question Couldn`t Submit');
            }















        };





        window.calc = async function (input, ele_id) {



            const arr = [];
            let i = 0;

            const inputText = ``;

            const pattern = /(\\[a-zA-Z]+(?:_[a-zA-Z]|\^[a-zA-Z0-9]|{[^}]*}|[a-zA-Z]+{[^}]*}|\[[^\]]*\])*)|([^\\\s]+)/g;

            let match;
            while ((match = pattern.exec(input)) !== null) {
                if (match[1]) {
                    // Math text
                    arr.push(match[1]);
                } else if (match[2]) {
                    // Normal text with prefix *!%)
                    arr.push(`*!%)${match[2]}`);
                }
            }


            console.log(input);



            console.log(await latex_arr(input));
            let arr66 = await latex_arr(input);


















            if (ele_id != undefined) {



                document.getElementById(ele_id).innerHTML = ``
                document.getElementById(ele_id).style.display = `block`

                arr66.forEach(i => {


                    if (i[0] == "\\") {

                        document.getElementById(ele_id).insertAdjacentHTML("beforeend", `<span class="mathh">${i} </span>`);


                    }
                    else if (i.includes("^")) {
                        document.getElementById(ele_id).insertAdjacentHTML("beforeend", `<span class="mathh">${i} </span>`);

                    }
                    else {
                        document.getElementById(ele_id).insertAdjacentHTML("beforeend", " " + i + " ");

                    }



                });
                var elements = document.getElementsByClassName('mathh');


                for (var ddx of elements) {
                    MQ.StaticMath(ddx);
                }


            }
            else {
                document.getElementById("preview").innerHTML = ``


                arr66.forEach(i66 => {




                    if (i66[0] == "\\") {
                        document.getElementById("preview").insertAdjacentHTML("beforeend", `<span class="mathh">${i66} </span>`);


                    } else if (String(i66).includes(`^`)) {

                        document.getElementById("preview").insertAdjacentHTML("beforeend", `<span class="mathh">${i66} </span>`);
                    }
                    else {
                        document.getElementById("preview").insertAdjacentHTML("beforeend", " " + i66);
                    }



                });

                var elements = document.getElementsByClassName('mathh');
                for (var ddx of elements) {
                    MQ.StaticMath(ddx);
                }


            }
        };


    </script>


    <script>
        window.activee = 0;
        window.abcd_json = { a: "", b: "", c: "", d: "" }
        const WIDTH = 25;

        const btnContainer = document.querySelector(".container55");

        function slideBg(n) {
            const fullLatex2 = mathField2.latex().replace(/\\/g, '\\\\');


            activee = n;

            const bgOffset = WIDTH * n;
            btnContainer.style.setProperty("--bg-offset", `${bgOffset}%`);
            mathField2.focus();
            mathField2.latex('');
        }

        window.update_abcd = async function () {
            const fullLatex2 = mathField2.latex().replace(/\\/g, '\\\\');

            console.log(fullLatex2);

            if (activee == 0) {
                calc(fullLatex2, "abcd_span1")
                abcd_json.a = fullLatex2
            } else if (activee == 1) {
                calc(fullLatex2, "abcd_span2")
                abcd_json.b = fullLatex2
            } else if (activee == 2) {
                calc(fullLatex2, "abcd_span3")
                abcd_json.c = fullLatex2
            } else if (activee == 3) {
                calc(fullLatex2, "abcd_span4")
                abcd_json.d = fullLatex2
            } else { }


        };
    </script>



    <script>




  







        window.abcd_add = async function (element, iri0) {


            console.warn(iri0);
            console.log(document.getElementById(`abcd_a${iri0 - 1}`));
            console.log(document.getElementById(`abcd_a${iri0}`));





            for (let iri = 0; iri < 4; iri++) {
                await new Promise(async (resolvee) => {

                    const arr = [];
                    let i = 0;
                    let input;
                    let idd;
                    if (iri == 0) {
                        input = element.a;
                        idd = "abcd_a";
                    } else if (iri == 1) {
                        input = element.b;
                        idd = "abcd_b";
                    } else if (iri == 2) {
                        input = element.c;
                        idd = "abcd_c";
                    } else if (iri == 3) {
                        input = element.d;
                        idd = "abcd_d";
                        console.warn(`${idd}${iri0}`);


                    } else { }





                    let arr66 = await latex_arr(input);



                    // console.warn(arr);

                    for (let i = 0; i < arr66.length; i++) {
                        await new Promise((resolve2) => {
                            let itemm = arr66[i]





                            if (itemm[0] == "\\") {
                                document.getElementById(`${idd}${iri0}`).insertAdjacentHTML("beforeend", `<span class="mathh">${arr66[i]} </span>`);
                            }
                            else if (itemm.includes("^")) {
                                document.getElementById(`${idd}${iri0}`).insertAdjacentHTML("beforeend", `<span class="mathh">${arr66[i]} </span>`);
                            }
                            else {
                                document.getElementById(`${idd}${iri0}`).insertAdjacentHTML("beforeend", " " + arr66[i] + " ");
                            }






                            resolve2();
                        });
                    };



                    resolvee();
                });
            }



            var elements = document.getElementsByClassName('mathh');


            for (var ddx of elements) {
                MQ.StaticMath(ddx);
            }



        };




        window.dltt = async function (e) {
            let ee = e.target.closest(".item")
            const strr = ee.id;

            let result = strr.replace(/itemm-/g, "");
            console.log(result);

            let title = getCookie("boi_edtech");





            try {
                const res = await fetch("http://192.168.0.103:3000/q_dlt", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ "order": result, "id": window.docidd, "edtech_name": title }),
                });
                if (res.status === 200) {

                    let ress = await res.json()
                    console.log(ress);


                    ee.classList.add("ani_rmv");
                    const itemHeight = ee.offsetHeight;
                    ee.style.marginTop = `-${itemHeight}px`;


                    setTimeout(() => {
                        ee.remove()

                        const elements = document.querySelectorAll('.q_no');



                        elements.forEach((element, i) => {
                            element.innerHTML = `Q No.${i + 1}`

                        })
                    }, 500);


                }
                else {
                    alert('Error Couldn`t Delete');
                }

            } catch (err) {
                console.error('Error:', err);
                alert('Error. Couldn`t Delete');
            }



        };




        const overlay = document.getElementById('overlay');
        const popup = document.getElementById('popup');

        function openPopup() {
            overlay.classList.add('active');
            popup.classList.add('active');




            document.getElementById("aad").style.display = "block"
            document.getElementById("aae").style.display = "none"
            document.getElementById("aaf").style.display = "none"

            document.getElementById("publish66").style.display = "none";
        }

        function closePopup() {
            overlay.classList.remove('active');
            popup.classList.remove('active');
        }




        window.publish = async function () {

            return 5
            let docid = window.docidd;
            let title = getCookie("boi_edtech");
            let uri = `?n=${title}&id=${docid}`
            console.log(uri);
            const domainUrl = window.location.origin;



            try {
                const res = await fetch("http://192.168.0.103:3000/ac_publish", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ "name": getCookie("boi_edtech"), "id": docid, "public": "yes" }),
                });
                if (res.status === 200) {
                    document.getElementById("url_exam").innerHTML = ``
                    document.getElementById("url_exam").innerHTML = `${domainUrl}/test.html${uri}`

                    let ress = await res.json()
                    console.log(ress);
                    openPopup()

                }
                else {
                    // alert('Error. Couldn`t Submit');
                }

            } catch (err) {
                console.error('Error:', err);
                // alert('Error. Couldn`t Submit');
            }

        };

    </script>













    <script>
        let formData = {};


        const fp = flatpickr("#datetimePicker", {
            enableTime: true,
            dateFormat: "h:i K   d-m-Y ",


            time_24hr: false,

            onChange: function (selectedDates, dateStr, instance) {
                if (selectedDates.length > 0) {
                    const selectedDate = selectedDates[0];
                    const hours = selectedDate.getHours();
                    const minutes = selectedDate.getMinutes();

                    const day = selectedDate.getDate();
                    const month = selectedDate.getMonth() + 1;
                    const year = selectedDate.getFullYear();



                    window.startt_year = year;
                    window.startt_month = month;
                    window.startt_day = day;
                    window.startt_hours = hours;
                    window.startt_minutes = minutes;





                }

            }
        });
        const fp2 = flatpickr("#datetimePicker2", {
            enableTime: true,
            dateFormat: "h:i K   d-m-Y ",
            time_24hr: false,

            onChange: function (selectedDates, dateStr, instance) {
                if (selectedDates.length > 0) {
                    const selectedDate = selectedDates[0];
                    const hours = selectedDate.getHours();
                    const minutes = selectedDate.getMinutes();

                    const day = selectedDate.getDate();
                    const month = selectedDate.getMonth() + 1;
                    const year = selectedDate.getFullYear();


                    window.endd_year = year;
                    window.endd_month = month;
                    window.endd_day = day;
                    window.endd_hours = hours;
                    window.endd_minutes = minutes;


                }

            }
        });



        window.nextStep = async function () {
            const durationInput = document.getElementById("duration");
            const durationError = document.getElementById("duration-error");
            const formContent = document.getElementById("form-content");

            const durationValue = durationInput.value.trim();
            if (durationValue.length == 0) { durationError.textContent = "Empty Feild!"; return; }
            if (!/^\d+$/.test(durationValue)) {
                durationError.textContent = "Full Number only!";
                return;
            }

            durationError.textContent = "";
            formData.duration = parseInt(durationValue);







            document.getElementById("aad").style.display = "none"
            document.getElementById("aae").style.display = "block"
            document.getElementById("aaf").style.display = "none"








        }

        window.nextQuestionStep = async function () {

            const startTime = document.getElementById("datetimePicker").value;
            const endTime = document.getElementById("datetimePicker2").value;

            if (!startTime || !endTime) {
                alert("Please fill in both start time and end time!");
                return;
            }



            document.getElementById("aad").style.display = "none"
            document.getElementById("aae").style.display = "none"
            document.getElementById("aaf").style.display = "block"

            document.getElementById("publish66").style.display = "block";
        }

        window.publishData = async function () {

            document.getElementById("publish66").style.pointerEvents = 'none';


            const perQuestion = document.getElementById("per-question").value;
            const negativeMarking = document.getElementById("negative-marking").value;

            formData.perQuestion = parseFloat(perQuestion);
            formData.negativeMarking = parseFloat(negativeMarking);

            console.log("Collected Data:", formData);

            const result = /^\d+$/.test(perQuestion);
            if (!result) {
                document.getElementById("mark_err").innerHTML = "Full Number Only!"
                document.getElementById("publish66").style.pointerEvents = 'auto';
                return 6
            } else { document.getElementById("mark_err").innerHTML = "" }

            const result2 = /^[\d.]+$/.test(negativeMarking);
            if (!result2) {
                document.getElementById("neg_err").innerHTML = " Numbers Only!"
                document.getElementById("publish66").style.pointerEvents = 'auto';
                return false
            } else { document.getElementById("neg_err").innerHTML = "" }

            let objj = {
                "mark": parseInt(perQuestion), "neg": parseFloat(negativeMarking), "duration": parseInt(formData.duration),


                "start_obj": {



                    "year": window.startt_year,
                    "month": window.startt_month,
                    "day": window.startt_day,
                    "hour": window.startt_hours,
                    "min": window.startt_minutes
                },

                "end_obj": {


                    "year": window.endd_year,
                    "month": window.endd_month,
                    "day": window.endd_day,
                    "hour": window.endd_hours,
                    "min": window.endd_minutes
                }

            }
            console.log(objj);

            try {
                let title = getCookie("boi_edtech");
                const res = await fetch("http://192.168.0.103:3000/q_update_time_and_rest", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({

                        "id": window.docidd, "cname": title, ...objj


                    }),
                });
                if (res.status === 200) {

                    let ress = await res.json()
                    console.log(ress);
                    console.log(" Updated");
                    document.getElementById("aaf").innerHTML = `<h3>Published Successfull</h3>`
                    document.getElementById("publish66").style.display = "none"
                    document.getElementById("pubb0").remove()

                }
                else {
                    alert('Error Couldn`t Delete');
                }

            } catch (err) {
                console.error('Error:', err);
                alert('Error. Couldn`t Delete');
            } finally {


                document.getElementById("publish66").style.pointerEvents = 'auto';

            }

        }
    </script>


    <div id="keyboard-container" class="keyboard-container">
        <button id="keyboard-toggle" class="toggle-btn ">⌨️</button>
        <div id="keyboard" class="keyboard visible">
            <div id="key_roww_1" class="row">
                <button onclick="hide_row(2)" class="darkk button">Sin</button>
                <button class="button" onclick="inn('a^2')">a^2</button>
                <button class="button" onclick="inn('a^b')">a^b</button>
                <button class="button" onclick="inn('sqrt{x}')">
                    \sqrt{x}</button>
                <button class="button" onclick="inn('sqrt[n]{x}')">\sqrt[n]{x}</button>




                <button class="button" onclick="inn('frac{d}{dx}')">\frac{d}{dx}</button>
                <button class="button" onclick="inn('int_a^b')">\int_a^b</button>
                <button class="button" onclick="inn('lim_{x\\to a}')">\lim_{x\to a}</button>
                <button class="button" onclick="inn('frac{a}{b}')">\frac{a}{b}</button>
                <button onclick="hide_row(3)" class="darkk button">\alpha</button>


            </div>
            <div id="key_roww_2" class="row">

                <button onclick="hide_row(1)" class="button darkk">a^2</button>
                <button class="button" onclick="inn('sin')">sin</button>
                <button class="button" onclick="inn('cos')">cos</button>

                <button class="button" onclick="inn('tan')">tan</button>
                <button onclick="inn('sin1')">sin <sup>-1</sup></button>
                <button onclick="inn('cos1')">cos <sup>-1</sup></button>
                <button onclick="inn('tan1')">tan <sup>-1</sup></button>


            </div>
            <div id="key_roww_3" class="row">
                <button onclick="hide_row(1)" class="button darkk">a^2</button>
                <button class="button" onclick="inn('alpha')">\alpha</button>
                <button class="button" onclick="inn('beta')">\beta</button>
                <button class="button" onclick="inn('gamma')">\gamma</button>
                <button class="button" onclick="inn('delta')">\delta</button>
                <button class="button" onclick="inn('theta')">\theta</button>
                <button class="button" onclick="inn('sigma')">\sigma</button>
                <button class="button" onclick="inn('omega')">\omega</button>
                <button class="button" onclick="inn('infty')">\infty</button>
                <button class="button" onclick="inn('approx')">\approx</button>
                <button class="button" onclick="inn('ne')">\ne</button>
                <button class="button" onclick="inn('phi')">\phi</button>
                <button class="button" onclick="inn('perp')">\perp</button>



            </div>
        </div>
    </div>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            overflow-x: hidden;

        }

        .keyboard-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1000;
        }

        .toggle-btn {
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            margin-bottom: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            margin-right: auto;
            margin-left: 18px;
        }

        .toggle-btn:active {
            transform: scale(0.95);
        }

        .keyboard {
            background: linear-gradient(45deg, #43fb1f, #2c89e7);
            border-radius: 10px 10px 0 0;
            padding: 20px;
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.2);
            transform: translateY(100%);
            transition: transform 0.4s ease-in-out;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .keyboard.visible {
            transform: translateY(0);
        }

        .row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }

        .row button {
            background-color: white;
            color: #333;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            margin: 0 5px;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, background-color 0.3s;
        }

        .row button:active {
            transform: scale(0.9);
            background-color: #ddd;
        }

        .row button:hover {
            background-color: #f0f0f0;
        }

        .darkk {
            background-color: #CCCCCC !important;
        }

        #key_roww_2,
        #key_roww_3 {
            display: none;
        }
    </style>
    <script>
        const toggleBtn = document.getElementById("keyboard-toggle");
        const keyboard = document.getElementById("keyboard");

        toggleBtn.addEventListener("click", () => {
            keyboard.classList.toggle("visible");
            keyboard.classList.toggle("hidd");

            if (keyboard.style.display === 'none') {
                keyboard.style.setProperty('display', 'block', 'important'); // Show the element
            } else {
                keyboard.style.setProperty('display', 'none', 'important'); // Hide the element
            }
        });

        var elements = document.querySelectorAll('.button');


        for (var ddx of elements) {
            console.log(ddx);

            MQ.StaticMath(ddx);
        }

        window.hide_row = async function (r) {
            if (r == 1) {

                document.getElementById("key_roww_1").style.display = "block"
                document.getElementById("key_roww_2").style.display = "none"
                document.getElementById("key_roww_3").style.display = "none"

            } else if (r == 2) {

                document.getElementById("key_roww_1").style.display = "none"
                document.getElementById("key_roww_2").style.display = "block"
                document.getElementById("key_roww_3").style.display = "none"
            } else if (r == 3) {

                document.getElementById("key_roww_1").style.display = "none"
                document.getElementById("key_roww_2").style.display = "none"
                document.getElementById("key_roww_3").style.display = "block"
            }


        }


    </script>
    <script src="./key.js"></script>
</body>

</html>